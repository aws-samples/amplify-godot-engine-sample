version: 1
backend:
    phases:
        preBuild:
            commands:
                - echo "Setup Game Backend..."  
                - echo "Setup Game Server..."  
        build:
            commands:
                - echo "Build Game Backend..."  
                - echo "Build Game Server..."  
frontend:
    phases:
        preBuild:
            commands:
                - echo "Setup Web Site..."  
                - cd website   
                - npm install
                - cd ..
        build:
            commands:
                - echo "Build Web Site..."
                - cd website   
                - npm run build
                - cd ..         
                #- echo "Build Game Client..."
                #- 'mkdir -v -p build/mac && cd game/client && godot --headless --verbose --export-release "macOS"'
                #- 'ls ../../'
                #- 'ls ../../build/mac'
    artifacts:
        #baseDirectory: /build/mac/
        #files:
        #    - '**/*'
        baseDirectory: website/build
        files:
            - '**/*'  
    cache:
        paths:
            - website/node_modules/